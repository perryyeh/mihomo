import"./DmF15YAy.js";import{$ as e,B as t,C as n,D as r,Dt as i,E as a,Et as o,G as s,H as c,I as l,J as u,K as d,Mt as f,N as p,Ot as m,Q as h,S as g,U as _,V as v,W as y,at as b,ct as x,dt as S,ft as C,it as ee,kt as w,lt as T,ot as E,pt as D,q as O,rt as k,st as A,ut as j,x as M,yt as N}from"./SdXlftKS.js";import{h as P}from"./_v7-ePgP.js";import{t as F}from"./ZC4cO_li.js";import{t as I}from"./BuKyYHNQ.js";import{D as L,M as R,R as z,S as B,T as V,_ as te,b as H,f as U,i as ne,j as W,u as G,v as K,w as re,y as ie,z as q}from"./WbzNIdgT.js";import{a as ae,i as J,n as Y,o as X,r as Z}from"./DlnIPlaO.js";import{t as Q}from"./BUOgRipW.js";import{g as $,v as oe}from"./7zWSxfW3.js";import{n as se,t as ce}from"./37yuudqL.js";import{t as le}from"./CQdDOPsi.js";import{t as ue}from"./DzHtrBRV.js";import{l as de}from"./B-kCvlC2.js";var fe={class:`flex min-w-0 items-center gap-1 text-sm font-bold whitespace-nowrap uppercase sm:text-xl`},pe=e({__name:`LogoText`,setup(e){let t=n(),r=y(()=>!!t.currentEndpoint);return(e,t)=>{let n=g;return A(),u(`div`,fe,[h(n,{class:`bg-linear-to-br from-primary to-secondary bg-clip-text text-transparent`,to:o(r)?`/`:`/setup`},{default:C(()=>[...t[0]||=[s(`span`,{class:`hidden min-[400px]:inline`},`metacube`,-1),s(`span`,{class:`min-[400px]:hidden`},`mcx`,-1)]]),_:1},8,[`to`]),t[1]||=s(`span`,null,`(`,-1),t[2]||=s(`a`,{class:`text-primary transition-transform hover:scale-125 hover:rotate-90`,href:`https://github.com/metacubex/metacubexd`,target:`_blank`},` xd `,-1),t[3]||=s(`span`,null,`)`,-1)])}}}),me=Object.assign(pe,{__name:`LogoText`}),he={class:`dropdown dropdown-end`},ge={tabindex:`0`,role:`button`,class:`btn btn-circle btn-ghost`,"aria-label":`Change language`},_e={tabindex:`0`,class:`dropdown-content menu z-50 mt-2 w-40 rounded-box bg-base-200 p-2 shadow-lg`},ve=[`onClick`],ye=e({__name:`LangSwitcher`,setup(e){let{locale:t,locales:n,setLocale:r}=M(),a=y(()=>n.value.map(e=>typeof e==`string`?{code:e,name:e}:e));return(e,n)=>(A(),u(`div`,he,[s(`div`,ge,[h(o(H),{size:20})]),s(`ul`,_e,[(A(!0),u(c,null,x(o(a),e=>(A(),u(`li`,{key:e.code},[s(`button`,{class:i({"menu-active":o(t)===e.code}),onClick:t=>o(r)(e.code)},w(e.name),11,ve)]))),128))])]))}}),be=Object.assign(ye,{__name:`LangSwitcher`}),xe=[`data-theme`],Se=[`onClick`],Ce=e({__name:`ThemeSwitcher`,setup(e){let t=F(),n=N(null),r=N(null),a=N(!1),{floatingStyles:l}=Y(n,r,{placement:`top`,middleware:[ae(10),J(),X({padding:8})],whileElementsMounted:Z});function f(){a.value=!a.value}function p(e){t.curTheme=e,document.documentElement.setAttribute(`data-theme`,e),a.value=!1}function g(e){let t=e.target;!n.value?.contains(t)&&!r.value?.contains(t)&&(a.value=!1)}return b(()=>{document.addEventListener(`click`,g)}),E(()=>{document.removeEventListener(`click`,g)}),(e,g)=>(A(),u(`div`,null,[s(`button`,{ref_key:`reference`,ref:n,class:`btn btn-circle btn-sm btn-primary`,onClick:v(f,[`stop`])},[h(o(te))],512),(A(),d(_,{to:`body`},[o(a)?(A(),u(`ul`,{key:0,ref_key:`floating`,ref:r,style:m(o(l)),class:`menu z-70 max-h-64 w-40 flex-nowrap overflow-y-auto rounded-box bg-base-300 p-2 shadow-lg`},[(A(!0),u(c,null,x(o(P),e=>(A(),u(`li`,{key:e,"data-theme":e,class:`rounded-btn`},[s(`button`,{class:i([`btn justify-start btn-xs`,{"btn-active":o(t).curTheme===e}]),onClick:t=>p(e)},w(e),11,Se)],8,xe))),128))],4)):O(``,!0)]))]))}}),we=Object.assign(Ce,{__name:`ThemeSwitcher`}),Te={class:`drawer-content flex h-full flex-col`},Ee={class:`z-50 flex h-14 w-full shrink-0 items-center gap-2 bg-base-300 px-2 shadow-lg sm:px-4 lg:hidden`},De={key:0,for:`main-drawer`,class:`btn btn-ghost btn-sm`,"aria-label":`open sidebar`},Oe={class:`min-w-0 shrink`},ke={class:`ml-auto flex shrink-0 items-center gap-1`},Ae={class:`flex min-h-0 flex-1 flex-col p-2 sm:p-4`},je={key:0,class:`drawer-side z-60`},Me={class:`flex shrink-0 flex-col gap-2 border-b border-base-content/10 p-3`},Ne={class:`menu w-full flex-1 gap-1 px-2`},Pe=e({__name:`Sidebar`,setup(e){let n=p(),{t:r}=M(),a=F(),l=y(()=>[{href:`/overview`,name:r(`overview`),icon:B},{href:`/proxies`,name:r(`proxies`),icon:V},{href:`/rules`,name:r(`rules`),icon:U},{href:`/connections`,name:r(`connections`),icon:K},{href:`/logs`,name:r(`logs`),icon:L},{href:`/config`,name:r(`config`),icon:G}]),f=e=>n.path===e,m=N(null);S(()=>n.path,()=>{m.value&&(m.value.checked=!1)});let _=()=>{a.sidebarExpanded=!a.sidebarExpanded};return(e,p)=>{let v=me,y=be,b=we,S=g,ee=Q;return A(),u(`div`,{class:i([`drawer h-full`,{"lg:drawer-open":o(n).path!==`/setup`}])},[s(`input`,{id:`main-drawer`,ref_key:`drawerCheckbox`,ref:m,type:`checkbox`,class:`drawer-toggle`},null,512),s(`div`,Te,[s(`header`,Ee,[o(n).path===`/setup`?O(``,!0):(A(),u(`label`,De,[h(o(ie),{class:`size-5`})])),s(`div`,Oe,[h(v)]),s(`div`,ke,[p[0]||=s(`div`,{id:`header-traffic-indicator`,class:`flex items-center`},null,-1),h(y),h(b)])]),s(`div`,Ae,[T(e.$slots,`default`)])]),o(n).path===`/setup`?O(``,!0):(A(),u(`div`,je,[p[1]||=s(`label`,{for:`main-drawer`,"aria-label":`close sidebar`,class:`drawer-overlay`},null,-1),s(`div`,{class:i([`flex h-full w-52 flex-col bg-base-200 transition-all duration-300`,o(a).sidebarExpanded?``:`lg:w-16`])},[s(`div`,Me,[s(`div`,{class:i([`flex items-center`,o(a).sidebarExpanded?``:`lg:justify-center`])},[D(h(v,{class:`lg:block`},null,512),[[t,o(a).sidebarExpanded]]),h(v,{class:`lg:hidden`})],2),s(`button`,{class:i([`btn hidden w-full btn-ghost btn-sm lg:flex`,o(a).sidebarExpanded?``:`lg:btn-square`]),onClick:_},[o(a).sidebarExpanded?(A(),d(o(R),{key:1,class:`size-5`})):(A(),d(o(W),{key:0,class:`size-5`})),s(`span`,{class:i(o(a).sidebarExpanded?``:`lg:hidden`)},w(o(r)(`collapse`)),3)],2)]),s(`ul`,Ne,[(A(!0),u(c,null,x(o(l),e=>(A(),u(`li`,{key:e.href,class:`w-full`},[h(S,{to:e.href,class:i([`flex w-full items-center gap-3`,[{"menu-active":f(e.href)},o(a).sidebarExpanded?``:`lg:justify-center lg:px-0`]]),title:o(a).sidebarExpanded?void 0:e.name},{default:C(()=>[(A(),d(j(e.icon),{class:`size-5 shrink-0`})),s(`span`,{class:i(o(a).sidebarExpanded?``:`lg:hidden`)},w(e.name),3)]),_:2},1032,[`to`,`class`,`title`])]))),128))]),s(`div`,{class:i([`shrink-0 border-t border-base-content/10 p-2`,o(a).sidebarExpanded?``:`lg:flex lg:flex-col lg:items-center`])},[s(`div`,{id:`sidebar-traffic-expanded`,class:i([`mb-2 hidden w-full`,o(a).sidebarExpanded?`lg:block`:``])},null,2),s(`div`,{id:`sidebar-traffic-indicator`,class:i([`mb-2 hidden w-full lg:block`,o(a).sidebarExpanded?`lg:hidden`:``])},null,2),s(`div`,{class:i([`mb-2 hidden items-center gap-1`,o(a).sidebarExpanded?`lg:flex`:`lg:flex lg:flex-col`])},[h(y),h(b)],2),h(ee,{collapsed:!o(a).sidebarExpanded},null,8,[`collapsed`])],2)],2)]))],2)}}}),Fe=Object.assign(Pe,{__name:`Sidebar`});const Ie=globalThis.setInterval;function Le(){let e=n(),t=se(),r=I(),i=le(),a=F(),o=null,s=null,c=null,l=null,u=null,d=(t,n)=>{let r=e.currentEndpoint;if(!r)return null;let i=e.wsEndpointURL,a=r.secret,o=new URLSearchParams;a&&o.set(`token`,a);let s=new WebSocket(`${i}/${t}?${o.toString()}`);return s.onmessage=e=>{try{n(JSON.parse(e.data))}catch{}},s.onerror=e=>{console.error(`WebSocket error for ${t}:`,e)},s};return{connect:()=>{if($()){let e=oe();t.updateFromWsMsg({connections:e.mockConnections,uploadTotal:e.mockTrafficStats.up,downloadTotal:e.mockTrafficStats.down}),r.setLatestTraffic(e.mockTrafficStats),r.setLatestMemory(e.mockMemory);let n=Date.now(),a=e.mockConnections.length;for(let t=30;t>=0;t--){let i=n-t*1e3,o=e.mockTrafficStats.down+Math.floor(Math.random()*1e5)-5e4,s=e.mockTrafficStats.up+Math.floor(Math.random()*2e4)-1e4,c=e.mockMemory.inuse+Math.floor(Math.random()*5e6)-25e5,l=a+Math.floor(Math.random()*10)-5;r.addTrafficDataPoint(i,o,s),r.addMemoryDataPoint(i,c),r.addConnectionCountDataPoint(i,l)}e.mockLogs.forEach(e=>{i.addLog(e)}),u=Ie(()=>{let t=Date.now(),n={up:e.mockTrafficStats.up+Math.floor(Math.random()*1e4),down:e.mockTrafficStats.down+Math.floor(Math.random()*5e4)};r.setLatestTraffic(n),r.addTrafficDataPoint(t,n.down,n.up);let i={inuse:e.mockMemory.inuse+Math.floor(Math.random()*5e6)-25e5,oslimit:e.mockMemory.oslimit};r.setLatestMemory(i),r.addMemoryDataPoint(t,i.inuse);let a=e.mockConnections.length+Math.floor(Math.random()*10)-5;r.addConnectionCountDataPoint(t,a)},1e3);return}o=d(`connections`,e=>{let n=e;if(t.updateFromWsMsg(n),n){let e=n.connections?.length??0;r.addConnectionCountDataPoint(Date.now(),e)}}),s=d(`traffic`,e=>{let t=e;r.setLatestTraffic(t),r.addTrafficDataPoint(Date.now(),t.down,t.up)}),c=d(`memory`,e=>{let t=e;r.setLatestMemory(t),r.addMemoryDataPoint(Date.now(),t.inuse)});let n=e.currentEndpoint;if(n){let t=e.wsEndpointURL,r=new URLSearchParams;n.secret&&r.set(`token`,n.secret),r.set(`level`,a.logLevel),l=new WebSocket(`${t}/logs?${r.toString()}`),l.onmessage=e=>{try{let t=JSON.parse(e.data);i.addLog(t)}catch{}}}},disconnect:()=>{u&&=(clearInterval(u),null),o?.close(),s?.close(),c?.close(),l?.close(),o=null,s=null,c=null,l=null},reconnectLogs:()=>{l?.close();let t=e.currentEndpoint;if(t){let n=e.wsEndpointURL,r=new URLSearchParams;t.secret&&r.set(`token`,t.secret),r.set(`level`,a.logLevel),l=new WebSocket(`${n}/logs?${r.toString()}`),l.onmessage=e=>{try{let t=JSON.parse(e.data);i.addLog(t)}catch{}}}}}}var Re={class:`hidden`},ze=e({__name:`ProtectedResources`,setup(e){let{connect:t,disconnect:n,reconnectLogs:r}=Le(),i=F();return b(()=>{t()}),E(()=>{n()}),S(()=>i.logLevel,()=>{r()}),(e,t)=>(A(),u(`div`,Re))}}),Be=Object.assign(ze,{__name:`ProtectedResources`}),Ve=f(ue(),1),He={class:`flex items-center gap-1`},Ue={class:`font-mono text-xs`},We={class:`flex items-center gap-1`},Ge={class:`font-mono text-xs`},Ke={class:`flex items-center justify-center gap-1`},qe={class:`font-mono text-xs`},Je={class:`flex items-center justify-center gap-1`},Ye={class:`font-mono text-xs`},Xe={key:0,class:`rounded-btn w-full bg-base-100/50 p-2`},Ze={class:`grid grid-cols-2 gap-1 text-xs`},Qe={class:`flex items-center gap-1`},$e={class:`truncate font-mono`},et={class:`flex items-center gap-1`},tt={class:`truncate font-mono`},nt={class:`flex items-center gap-1`},rt={class:`font-mono text-xs`},it={class:`flex items-center gap-1`},at={class:`font-mono text-xs`},ot=[`title`],st={class:`flex flex-col gap-2 p-3`},ct={class:`flex items-center justify-between gap-2`},lt={class:`text-xs font-semibold uppercase opacity-60`},ut={class:`flex items-center gap-1`},dt=[`title`],ft=[`title`],pt={class:`grid grid-cols-2 gap-x-4 gap-y-1 text-xs`},mt={class:`flex items-center gap-1.5`},ht={class:`font-mono font-medium`},gt={class:`flex items-center gap-1.5`},_t={class:`font-mono font-medium`},vt={class:`flex items-center gap-1.5 opacity-70`},yt={class:`font-mono`},bt={class:`flex items-center gap-1.5 opacity-70`},xt={class:`font-mono`},St=e({__name:`GlobalTrafficIndicator`,setup(e){let t=I(),n=se(),r=F(),f=a(`globalTrafficIndicatorVisible`,!0),p=a(`globalTrafficIndicatorCollapsed`,!0),g=a(`globalTrafficIndicatorPosition`,{x:-1,y:-1}),v=N(!1),x=N({x:0,y:0}),T=N(null),E=N(null),D,j=y(()=>t.latestTraffic?.down??0),M=y(()=>t.latestTraffic?.up??0),P=y(()=>t.latestMemory?.inuse??0),L=y(()=>n.latestConnectionMsg?.connections?.length??0),R=e=>ce(e).toString(),B=y(()=>g.value.x===-1||g.value.y===-1?{right:`16px`,bottom:`16px`}:{left:`${g.value.x}px`,top:`${g.value.y}px`});function V(){f.value=!f.value}function te(){p.value=!p.value}function H(){p.value=!1,g.value={x:-1,y:-1}}function U(e){if(!T.value)return;v.value=!0;let t=T.value.getBoundingClientRect(),n=`touches`in e?e.touches[0].clientX:e.clientX,r=`touches`in e?e.touches[0].clientY:e.clientY;x.value={x:n-t.left,y:r-t.top},g.value.x===-1&&(g.value.x=t.left,g.value.y=t.top),document.addEventListener(`mousemove`,W),document.addEventListener(`mouseup`,G),document.addEventListener(`touchmove`,W),document.addEventListener(`touchend`,G)}function W(e){if(!v.value)return;let t=`touches`in e?e.touches[0].clientX:e.clientX,n=`touches`in e?e.touches[0].clientY:e.clientY,r=t-x.value.x,i=n-x.value.y,a=T.value?.getBoundingClientRect(),o=a?.width||200,s=a?.height||150;r=Math.max(0,Math.min(window.innerWidth-o,r)),i=Math.max(0,Math.min(window.innerHeight-s,i)),g.value.x=r,g.value.y=i}function G(){v.value&&(v.value=!1,document.removeEventListener(`mousemove`,W),document.removeEventListener(`mouseup`,G),document.removeEventListener(`touchmove`,W),document.removeEventListener(`touchend`,G))}function K(){if(!E.value)return;D&&=(D.destroy(),void 0);let e=de(),n=E.value.offsetWidth||200;D=Ve.default.chart(E.value,{chart:{type:`areaspline`,backgroundColor:`transparent`,spacing:[0,0,0,0],margin:[0,0,0,0],animation:!1,width:n,height:48},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:void 0},legend:{enabled:!1},xAxis:{visible:!1,type:`datetime`},yAxis:{visible:!1,min:0},tooltip:{enabled:!1},plotOptions:{areaspline:{lineWidth:1.5,marker:{enabled:!1},fillOpacity:.2,animation:!1}},series:[{type:`areaspline`,name:`Download`,color:e.seriesColors[0],data:t.trafficChartHistory.download.length>0?[...t.trafficChartHistory.download].slice(-30):[[Date.now(),0]]},{type:`areaspline`,name:`Upload`,color:e.seriesColors[1],data:t.trafficChartHistory.upload.length>0?[...t.trafficChartHistory.upload].slice(-30):[[Date.now(),0]]}]})}function ie(){if(!D)return;let e=[...t.trafficChartHistory.download].slice(-30),n=[...t.trafficChartHistory.upload].slice(-30);D.series[0]?.setData(e,!1),D.series[1]?.setData(n,!0)}function ae(){if(!$)return;let e=[...t.trafficChartHistory.download].slice(-30),n=[...t.trafficChartHistory.upload].slice(-30);$.series[0]?.setData(e,!1),$.series[1]?.setData(n,!0)}function J(){if(!Q.value)return;$&&=($.destroy(),void 0);let e=de();$=Ve.default.chart(Q.value,{chart:{type:`areaspline`,backgroundColor:`transparent`,spacing:[0,0,0,0],margin:[0,0,0,0],animation:!1,height:40},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:void 0},legend:{enabled:!1},xAxis:{visible:!1,type:`datetime`},yAxis:{visible:!1,min:0},tooltip:{enabled:!1},plotOptions:{areaspline:{lineWidth:1.5,marker:{enabled:!1},fillOpacity:.2,animation:!1}},series:[{type:`areaspline`,name:`Download`,color:e.seriesColors[0],data:t.trafficChartHistory.download.length>0?[...t.trafficChartHistory.download].slice(-30):[[Date.now(),0]]},{type:`areaspline`,name:`Upload`,color:e.seriesColors[1],data:t.trafficChartHistory.upload.length>0?[...t.trafficChartHistory.upload].slice(-30):[[Date.now(),0]]}]})}S(()=>t.latestTraffic,e=>{e&&(D?ie():E.value&&f.value&&!p.value&&K(),$?ae():Q.value&&J())}),S(()=>r.curTheme,()=>{E.value&&!p.value&&f.value&&K(),Q.value&&J()}),S(p,e=>{!e&&f.value?k(()=>{setTimeout(()=>{E.value&&t.latestTraffic&&K()},50)}):e&&D&&(D.destroy(),D=void 0)}),S(f,e=>{e&&!p.value?k(()=>{setTimeout(()=>{E.value&&t.latestTraffic&&K()},50)}):!e&&D&&(D.destroy(),D=void 0)}),S(()=>r.sidebarExpanded,e=>{e&&k(()=>{setTimeout(()=>{Q.value&&t.latestTraffic&&J()},100)})});let Y=N(!1),X=N(!1),Z=N(!1),Q=N(null),$;return b(()=>{k(()=>{Y.value=!!document.getElementById(`header-traffic-indicator`),X.value=!!document.getElementById(`sidebar-traffic-indicator`),Z.value=!!document.getElementById(`sidebar-traffic-expanded`)}),f.value&&!p.value&&t.latestTraffic&&setTimeout(()=>{E.value&&K()},100),t.latestTraffic&&setTimeout(()=>{Q.value&&J()},150)}),ee(()=>{D&&=(D.destroy(),void 0),$&&=($.destroy(),void 0)}),(e,n)=>(A(),u(c,null,[o(Y)?(A(),d(_,{key:0,to:`#header-traffic-indicator`},[o(f)&&o(p)&&o(t).latestTraffic?(A(),u(`div`,{key:0,class:`rounded-btn flex cursor-pointer items-center gap-2 bg-base-100/50 px-2 py-1 transition-colors hover:bg-base-100`,onClick:H},[s(`div`,He,[h(o(q),{class:`size-3 text-success`}),s(`span`,Ue,w(R(o(j)))+`/s`,1)]),n[0]||=s(`div`,{class:`h-3 w-px bg-base-content/20`},null,-1),s(`div`,We,[h(o(z),{class:`size-3 text-info`}),s(`span`,Ge,w(R(o(M)))+`/s`,1)])])):O(``,!0)])):O(``,!0),o(X)?(A(),d(_,{key:1,to:`#sidebar-traffic-indicator`},[o(t).latestTraffic?(A(),u(`div`,{key:0,class:`rounded-btn w-full cursor-pointer bg-base-100/50 px-2 py-2 transition-colors hover:bg-base-100`,onClick:H},[s(`div`,Ke,[h(o(q),{class:`size-3 text-success`}),s(`span`,qe,w(R(o(j)))+`/s`,1)]),s(`div`,Je,[h(o(z),{class:`size-3 text-info`}),s(`span`,Ye,w(R(o(M)))+`/s`,1)])])):O(``,!0)])):O(``,!0),o(Z)?(A(),d(_,{key:2,to:`#sidebar-traffic-expanded`},[o(t).latestTraffic?(A(),u(`div`,Xe,[s(`div`,{ref_key:`sidebarChartContainer`,ref:Q,class:`mb-2 h-10 w-full`},null,512),s(`div`,Ze,[s(`div`,Qe,[h(o(q),{class:`size-3 shrink-0 text-success`}),s(`span`,$e,w(R(o(j)))+`/s`,1)]),s(`div`,et,[h(o(z),{class:`size-3 shrink-0 text-info`}),s(`span`,tt,w(R(o(M)))+`/s`,1)])])])):O(``,!0)])):O(``,!0),o(f)&&o(p)&&o(t).latestTraffic&&!o(Y)&&!o(X)?(A(),u(`div`,{key:3,class:`fixed right-4 bottom-4 z-50 flex cursor-pointer items-center gap-2 rounded-box bg-base-200 px-3 py-2 shadow-lg`,onClick:H},[s(`div`,nt,[h(o(q),{class:`size-3 text-success`}),s(`span`,rt,w(R(o(j)))+`/s`,1)]),n[1]||=s(`div`,{class:`h-3 w-px bg-base-content/20`},null,-1),s(`div`,it,[h(o(z),{class:`size-3 text-info`}),s(`span`,at,w(R(o(M)))+`/s`,1)])])):O(``,!0),o(f)?O(``,!0):(A(),u(`button`,{key:4,class:`btn fixed right-4 bottom-4 z-50 btn-circle shadow-lg btn-sm btn-primary`,title:e.$t(`showTrafficIndicator`),onClick:V},[h(o(z),{class:`size-4`})],8,ot)),h(l,{"enter-active-class":`transition-all duration-300 ease-out`,"enter-from-class":`opacity-0 scale-95`,"enter-to-class":`opacity-100 scale-100`,"leave-active-class":`transition-all duration-200 ease-in`,"leave-from-class":`opacity-100 scale-100`,"leave-to-class":`opacity-0 scale-95`},{default:C(()=>[o(f)&&!o(p)&&o(t).latestTraffic?(A(),u(`div`,{key:0,ref_key:`containerRef`,ref:T,class:i([`fixed z-50 min-w-56 rounded-box bg-base-200 shadow-lg select-none`,{"cursor-grabbing":o(v)}]),style:m(o(B))},[s(`div`,st,[s(`div`,ct,[s(`div`,{class:`flex cursor-grab items-center gap-1 active:cursor-grabbing`,onMousedown:U,onTouchstart:U},[h(o(re),{class:`size-4 opacity-40`}),s(`span`,lt,w(e.$t(`traffic`)),1)],32),s(`div`,ut,[s(`button`,{class:`btn btn-circle btn-ghost btn-xs`,title:e.$t(`hideTrafficIndicator`),onClick:te},[...n[2]||=[s(`span`,{class:`text-xs`},`âˆ’`,-1)]],8,dt),s(`button`,{class:`btn btn-circle btn-ghost btn-xs`,title:e.$t(`hideTrafficIndicator`),onClick:V},[h(o(ne),{class:`size-3`})],8,ft)])]),s(`div`,{ref_key:`chartContainer`,ref:E,class:`h-12 w-full`},null,512),s(`div`,pt,[s(`div`,mt,[h(o(q),{class:`size-3 text-success`}),s(`span`,ht,w(R(o(j)))+`/s `,1)]),s(`div`,gt,[h(o(z),{class:`size-3 text-info`}),s(`span`,_t,w(R(o(M)))+`/s `,1)]),s(`div`,vt,[s(`span`,null,w(e.$t(`memory`))+`:`,1),s(`span`,yt,w(R(o(P))),1)]),s(`div`,bt,[s(`span`,null,w(e.$t(`connections`))+`:`,1),s(`span`,xt,w(o(L)),1)])])])],6)):O(``,!0)]),_:1})],64))}}),Ct=Object.assign(St,{__name:`GlobalTrafficIndicator`}),wt=[`data-theme`],Tt=e({__name:`default`,setup(e){let t=F(),a=n(),s=I(),c=N(null);S(c,e=>{e&&(s.rootElement=e)}),S([()=>t.autoSwitchTheme,r()],([e,n])=>{e&&(t.curTheme=n?t.favNightTheme:t.favDayTheme)},{immediate:!0}),S(()=>t.curTheme,e=>{document.documentElement.setAttribute(`data-theme`,e)},{immediate:!0});let l=y(()=>$()||!!a.currentEndpoint);return(e,n)=>{let r=Fe,a=Be,s=Ct;return A(),u(`div`,{ref_key:`rootElement`,ref:c,class:i([`relative h-screen overscroll-y-none bg-base-100 subpixel-antialiased`,o(t).enableTwemoji?`font-twemoji`:`font-default`]),"data-theme":o(t).curTheme},[h(r,null,{default:C(()=>[T(e.$slots,`default`)]),_:3}),o(l)?(A(),d(a,{key:0})):O(``,!0),o(l)?(A(),d(s,{key:1})):O(``,!0)],10,wt)}}});export{Tt as default};