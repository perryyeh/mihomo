# é…ç½®å‚è€ƒhttps://github.com/MetaCubeX/mihomo/blob/Meta/docs/config.yaml
secret: 'admin' # apiè®¿é—®å¯†ç 
port: 7890 # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
redir-port: 7892 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
tproxy-port: 7893 # Transparent proxy server port for Linux (TProxy TCP and TProxy UDP)
mixed-port: 7894 # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
routing-mark: 777
bind-address: "*"
ipv6: true
allow-lan: true
mode: Rule
log-level: info
external-controller: :9090
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
geox-url:
  geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb"
profile:
  store-selected: true
  store-fake-ip: true
unified-delay: true
tcp-concurrent: true
global-client-fingerprint: random
tun:
  enable: true
  stack: gVisor
  udp-timeout: 300
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
dns:
  enable: true
  ipv6: true
  listen: :53
  default-nameserver:
    - tls://223.5.5.5:853
    - tls://1.12.12.12:853
    - 10.0.0.1
  enhanced-mode: fake-ip #æ–¹ä¾¿é™æ€è·¯ç”±
  fake-ip-range: 198.18.0.1/15 #fake-ipæ± 
  # é…ç½®ä¸ä½¿ç”¨ fake-ip çš„åŸŸå
  fake-ip-filter:
    - '*.lan'
    - localhost.ptlogin2.qq.com
    # fakeip-filter ä¸º rule-providers ä¸­çš„åä¸º fakeip-filter è§„åˆ™è®¢é˜…ï¼Œ
    # ä¸” behavior å¿…é¡»ä¸º domain/classicalï¼Œå½“ä¸º classical æ—¶ä»…ä¼šç”Ÿæ•ˆåŸŸåç±»è§„åˆ™
    # - rule-set: fakeip-filter
    # fakeip-filter ä¸º geosite ä¸­åä¸º fakeip-filter çš„åˆ†ç±»ï¼ˆéœ€è¦è‡ªè¡Œä¿è¯è¯¥åˆ†ç±»å­˜åœ¨ï¼‰
    # - geosite: fakeip-filter
    # é…ç½®fake-ip-filterçš„åŒ¹é…æ¨¡å¼ï¼Œé»˜è®¤ä¸ºblacklistï¼Œå³å¦‚æœåŒ¹é…æˆåŠŸä¸è¿”å›fake-ip
    # å¯è®¾ç½®ä¸ºwhitelistï¼Œå³åªæœ‰åŒ¹é…æˆåŠŸæ‰è¿”å›fake-ip
  fake-ip-filter-mode: blacklist
  respect-rules: false
  nameserver:
    - tls://223.5.5.5:853
    - tls://1.12.12.12:853
    - 10.0.0.1
  fallback:
    - 1.1.1.1
    - 8.8.8.8
proxies:
  - {name: vmess, type: vmess, server: domain.com, port: 20000, uuid: uuid8, cipher: auto, alterId: 0, tls: true, skip-cert-verify: true, network: ws, udp: true, "ws-opts": {path: "/", headers: {Host: "speedtest.domain.com"}}}
  - {name: ss, type: ss, server: domain.com, port: 30000, password: password8, cipher: chacha20-ietf-poly1305}
proxy-groups:
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: url-test
    interval: 60 
    url: http://www.gstatic.com/generate_204
    proxies:
      - vmess
      - ss
  - name: ğŸ¤– ai
    type: select
    proxies:
      - DIRECT
      - ğŸŸ æ¼ç½‘ä¹‹é±¼
rules:
# LAN
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT

# æœ€ç»ˆè§„åˆ™ï¼ˆé™¤äº†ä¸­å›½åŒºçš„IPä¹‹å¤–çš„ï¼Œå…¨éƒ¨æ¼ç½‘ä¹‹é±¼ï¼‰
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼