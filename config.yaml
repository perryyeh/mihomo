# é…ç½®å‚è€ƒhttps://github.com/MetaCubeX/mihomo/blob/Meta/docs/config.yaml
secret: 'admin' # apiè®¿é—®å¯†ç 
port: 7890 # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
redir-port: 7892 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
tproxy-port: 7893 # Transparent proxy server port for Linux (TProxy TCP and TProxy UDP)
mixed-port: 7894 # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
routing-mark: 777
bind-address: "*"
ipv6: true
allow-lan: true
mode: Rule
log-level: info
external-controller: :9090
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
geox-url:
  geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb"
profile:
  store-selected: true
  store-fake-ip: true
unified-delay: true
tcp-concurrent: true
global-client-fingerprint: random
tun:
  enable: true
  stack: gVisor
  udp-timeout: 300
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
dns:
  enable: true
  ipv6: true
  listen: :53
  default-nameserver:
    - 10.0.0.1
    - 223.5.5.5
    - 119.29.29.29
  enhanced-mode: fake-ip #netflixï¼Œéœ€è¦ä½¿ç”¨fake-ip
  fake-ip-range: 198.18.0.1/15
  nameserver:
    - 10.0.0.1
    - 223.5.5.5
    - 119.29.29.29
  fallback:
    - 1.1.1.1
    - 8.8.8.8
proxies:
  - {name: ğŸŒ±vmess, type: vmess, server: domain.com, port: 20000, uuid: uuid8, cipher: auto, alterId: 0, tls: true, skip-cert-verify: true, network: ws, udp: true, "ws-opts": {path: "/", headers: {Host: "speedtest.domain.com"}}}
  - {name: ğŸŒ±ss, type: ss, server: domain.com, port: 30000, password: password8, cipher: chacha20-ietf-poly1305}
proxy-groups:
  - name: ğŸŒ±
    type: url-test
    interval: 60 
    url: http://connect.rom.miui.com/generate_204 #url: http://www.gstatic.com/generate_204
    proxies:
      - ğŸŒ±vmess
      - ğŸŒ±ss
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
      - ğŸŒ±
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸŒ±
      - DIRECT
rules:
# LAN
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT

# æœ€ç»ˆè§„åˆ™ï¼ˆé™¤äº†ä¸­å›½åŒºçš„IPä¹‹å¤–çš„ï¼Œå…¨éƒ¨æ¼ç½‘ä¹‹é±¼ï¼‰
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼